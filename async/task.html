<div class="row">
    <div class="col-9">
        <h2>My Task</h2>
    </div>
    <div class="col-3">
        <button class="btn btn-success btn-round btn-icon" data-toggle="modal" data-target="#mdl-add-pcs">
            <i class="fa fa-plus"></i>
        </button>
        <a href="#edit-task-hh" class="btn btn-warning btn-round btn-icon">
            <i class="fa fa-pencil"></i>
        </a>
        <button class="btn btn-danger btn-round btn-icon">
            <i class="fa fa-times"></i>
        </button>
    </div>
</div>

<div class="row">
    <div class="col-md-4">
        <div class="card ">
            <div class="card-header ">
                <h5 class="card-title">Progress</h5>
                <!--<p class="card-category">Last Campaign Performance</p>-->
            </div>
            <div class="card-body ">
                <canvas id="chartDonut1" class="ct-chart ct-perfect-fourth" width="456"
                        height="300"></canvas>
            </div>
            <div class="card-footer ">
                <div class="legend">
                    <i class="fa fa-circle text-success"></i> Completed
                </div>
            </div>
        </div>
    </div>

</div>
<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-body">
                <div class="row">
                    <div class="col-md-9">
                        <h5>#1
                            <small class="text-dark-gray">001</small>
                            Anjula Samarasinghe
                        </h5>
                        <table class="table">
                            <tr>
                                <td>8:00 AM</td>
                                <td>Lorem ipsum</td>
                                <td>100 pcs</td>
                                <td>
                                    <button class="btn btn-sm btn-simple btn-round btn-icon">
                                        <i class="fa fa-times"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>8:00 AM</td>
                                <td>Lorem ipsum</td>
                                <td>100 pcs</td>
                                <td>
                                    <button class="btn btn-sm btn-simple btn-round btn-icon">
                                        <i class="fa fa-times"></i>
                                    </button>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="col-md-3 text-right">
                        <h5 class="text-dark-gray"><i class="fa fa-star text-warning"></i> 500</h5>
                    </div>
                </div>
            </div>
            <!-- end content-->
        </div>
        <!--  end card  -->
    </div>
    <!-- end col-md-12 -->
</div>
<div class="modal fade" id="mdl-add-pcs" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header justify-content-center">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class="nc-icon nc-simple-remove"></i>
                </button>
                <h4 class="title title-up">Add hourly count</h4>
            </div>
            <div class="modal-body">
                <form method="#" action="#">
                    <label>Hour</label>
                    <div class="form-group">
                        <input type="number" class="form-control">
                    </div>
                    <label>Employee ID</label>
                    <div class="form-group">
                        <input type="text" class="form-control">
                    </div>
                    <div class="form-group">
                        <label>Job</label>
                        <select class="form-control" id="sel1">
                            <option>Lorem ipsum</option>
                            <option>Sit amet</option>
                            <option>Despacito</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Count</label>
                        <input type="number" class="form-control">
                    </div>
                    <p class="text-danger text-center"></p>
                </form>
            </div>
            <div class="modal-footer">
                <div class="left-side">
                    <button type="button" class="btn btn-default btn-link" data-dismiss="modal">Cancel</button>
                </div>
                <div class="divider"></div>
                <div class="right-side">
                    <button type="button" class="btn btn-success btn-link">Save</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        Chart.pluginService.register({
            beforeDraw: function (chart) {
                if (chart.config.options.elements.center) {
                    //Get ctx from string
                    var ctx = chart.chart.ctx;

                    //Get options from the center object in options
                    var centerConfig = chart.config.options.elements.center;
                    var fontStyle = centerConfig.fontStyle || 'Arial';
                    var txt = centerConfig.text;
                    var color = centerConfig.color || '#000';
                    var sidePadding = centerConfig.sidePadding || 20;
                    var sidePaddingCalculated = (sidePadding / 100) * (chart.innerRadius * 2)
                    //Start with a base font of 30px
                    ctx.font = "30px " + fontStyle;

                    //Get the width of the string and also the width of the element minus 10 to give it 5px side padding
                    var stringWidth = ctx.measureText(txt).width;
                    var elementWidth = (chart.innerRadius * 2) - sidePaddingCalculated;

                    // Find out how much the font can grow in width.
                    var widthRatio = elementWidth / stringWidth;
                    var newFontSize = Math.floor(30 * widthRatio);
                    var elementHeight = (chart.innerRadius * 2);

                    // Pick a new font size so it will not be larger than the height of label.
                    var fontSizeToUse = Math.min(newFontSize, elementHeight);

                    //Set font settings to draw it correctly.
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    var centerX = ((chart.chartArea.left + chart.chartArea.right) / 2);
                    var centerY = ((chart.chartArea.top + chart.chartArea.bottom) / 2);
                    ctx.font = fontSizeToUse + "px " + fontStyle;
                    ctx.fillStyle = color;

                    //Draw text in center
                    ctx.fillText(txt, centerX, centerY);
                }
            }
        });
        ctx = document.getElementById('chartDonut1').getContext("2d");

        var myChart = new Chart(ctx, {
            type: 'pie',
            data: {
                labels: [1, 2],
                datasets: [{
                    label: "Emails",
                    pointRadius: 0,
                    pointHoverRadius: 0,
                    backgroundColor: ['#6bd098', '#f4f3ef'],
                    borderWidth: 0,
                    data: [60, 40]
                }]
            },
            options: {
                elements: {
                    center: {
                        text: '60%',
                        color: '#66615c', // Default is #000000
                        fontStyle: 'Arial', // Default is Arial
                        sidePadding: 60 // Defualt is 20 (as a percentage)
                    }
                },
                cutoutPercentage: 90,
                legend: {

                    display: false
                },

                tooltips: {
                    enabled: false
                },

                scales: {
                    yAxes: [{

                        ticks: {
                            display: false
                        },
                        gridLines: {
                            drawBorder: false,
                            zeroLineColor: "transparent",
                            color: 'rgba(255,255,255,0.05)'
                        }

                    }],

                    xAxes: [{
                        barPercentage: 1.6,
                        gridLines: {
                            drawBorder: false,
                            color: 'rgba(255,255,255,0.1)',
                            zeroLineColor: "transparent"
                        },
                        ticks: {
                            display: false,
                        }
                    }]
                },
            }
        });


    });
</script>